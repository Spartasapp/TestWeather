(window.webpackJsonpweather=window.webpackJsonpweather||[]).push([[0],{10:function(e,t,r){e.exports={weather:"Weather_weather__2KILV",title:"Weather_title__2cHml"}},28:function(e,t,r){e.exports=r(58)},33:function(e,t,r){},34:function(e,t,r){},58:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),i=r(7),c=r.n(i),o=(r(33),r(34),r(26)),u=r(10),s=r.n(u),l=r(8),d=r(3),p=r.n(d),f=r(6),h=r(27),m=r(23),w=r(24).create({baseURL:"http://api.openweathermap.org/data/2.5/"}),O={getData:function(){var e=Object(f.a)(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("weather?q=".concat(t,"&APPID=99f7b0899ae20d84d4ec3109e0e0d781"));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:if(e.prev=7,e.t0=e.catch(0),404!==e.t0.response.status){e.next=13;break}return e.abrupt("return",Promise.reject("City not found"));case 13:return e.abrupt("return",Promise.reject("Some error occurred"));case 14:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},v="cities",E=function(e){var t=JSON.stringify(e.filter((function(e,t){return t<3})));return localStorage.setItem(v,t),Promise.resolve()},W=function(){var e=JSON.parse(localStorage.getItem(v));return Promise.resolve(e||[])};function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(r,!0).forEach((function(t){Object(m.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y="Weather/ADD_CITY",S={city:null,temp:null,windSpeed:null,dirOfWind:null,cities:[],isResponseFromServer:!1,error:null},P=function(e){return{type:"Weather/SET_CURRENT_CITY",city:e}},j=function(e){return{type:"Weather/SET_ERROR",error:e}},T=function(e){return{type:y,city:e}},C=function(e){return{type:"Weather/SET_CITIES",cities:e}},_=function(e,t,r){return{type:"Weather/GET_WEATHER_SUCCESS",temp:Math.floor(e-273.15),windSpeed:t,dirOfWind:r}},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Weather/GET_WEATHER_SUCCESS":var r=t.dirOfWind;return(t.dirOfWind=0)?r="\u0421":t.dirOfWind>0&&t.dirOfWind<90?r="\u0421\u0412":(t.dirOfWind=90)?r="\u0412":t.dirOfWind>90&&t.dirOfWind<180?r="\u042e\u0412":(t.dirOfWind=180)?r="\u042e":t.dirOfWind>180&&t.dirOfWind<270?r="\u042e\u0417":(t.dirOfWind=270)?r="\u0417":t.dirOfWind>270&&t.dirOfWind<360?r="\u0421\u0412":(t.dirOfWind=360)&&(r="\u0421"),b({},e,{temp:t.temp,windSpeed:t.windSpeed,dirOfWind:r});case"Weather/SET_CURRENT_CITY":return b({},e,{city:t.city});case y:return b({},e,{cities:[t.city].concat(Object(h.a)(e.cities))});case"Weather/SET_CITIES":return b({},e,{cities:t.cities});case"Weather/SET_ERROR":return b({},e,{error:t.error});default:return e}},k=Object(l.b)((function(e){return{city:e.weatherPage.city,temperature:e.weatherPage.temp,windSpeed:e.weatherPage.windSpeed,directionOfTheWind:e.weatherPage.dirOfWind,isResponseFromServer:e.weatherPage.isResponseFromServer,cities:e.weatherPage.cities,error:e.weatherPage.error}}),(function(e){return{loadCities:function(){e(function(){var e=Object(f.a)(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:r=e.sent,t(C(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},getWeather:function(t){e(function(e){return function(){var t=Object(f.a)(p.a.mark((function t(r,n){var a,i,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e,i=n().weatherPage.cities,t.prev=2,t.next=5,O.getData(a);case 5:c=t.sent,r(_(c.main.temp,c.wind.speed,c.wind.deg)),0===i.filter((function(e){return e.toUpperCase()===a.toUpperCase()})).length&&(r(T(a)),E(n().weatherPage.cities)),r(P(e)),r(j(null)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),r(j(t.t0));case 16:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(e,r){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=Object(n.useState)(""),r=Object(o.a)(t,2),i=r[0],c=r[1];Object(n.useEffect)((function(){e.loadCities()}),[]);return a.a.createElement("div",{className:s.a.weather},a.a.createElement("h2",{className:s.a.title},"Weather"),e.error&&a.a.createElement("div",null,e.error),a.a.createElement("div",null,a.a.createElement("input",{onChange:function(e){var t=e.currentTarget.value;c(t)},placeholder:"City...",list:"cities",value:i}),a.a.createElement("button",{onClick:function(t){t.preventDefault(),e.getWeather(i),c("")},disabled:!i.trim().length},"Search"),a.a.createElement("datalist",{id:"cities"},e.cities.map((function(e){return a.a.createElement("option",{key:e,value:e})})))),!e.error&&a.a.createElement(a.a.Fragment,null,a.a.createElement("span",null,a.a.createElement("b",null,e.city),": ",e.temperature," \u2103"),a.a.createElement("div",null,"Wind speed: ",e.windSpeed," \u043c/\u0441"),a.a.createElement("div",null,"Wind direction: ",e.directionOfTheWind)))}));var I=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(k,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var x=r(5),D=r(25),N=Object(x.c)({weatherPage:R}),U=Object(x.d)(N,Object(x.a)(D.a));c.a.render(a.a.createElement(l.a,{store:U},a.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[28,1,2]]]);
//# sourceMappingURL=main.f4dfbdcf.chunk.js.map